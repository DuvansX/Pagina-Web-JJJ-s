<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos JJJ´s</title>
    <link rel="icon" href="Imagenes/Logo Restaurante.PNG">
    <link rel="stylesheet" href="Producto.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
<!-- Pantalla de carga -->
<div id="loading-screen">
    <div class="loader"></div>
</div>

<script>
    window.addEventListener("load", function() {
        let loadingScreen = document.getElementById("loading-screen");
        loadingScreen.classList.add("hidden");
        setTimeout(() => {
            loadingScreen.style.display = "none";
        }, 1000);
    });
</script>
<div class="sidebar1">
    <div class="logo_content1">
        <div class="logo1">
            <img src="Imagenes/Logo Restaurante.PNG" alt="Logo del Restaurante" width="53" height="50">
            <div class="logo_name1">JJJ´s Food</div>
        </div>
        <i class='bx bx-menu' id='btn1'></i>
    </div>

    <div class="src1">
        <i class='bx bx-search-alt'></i>
        <input type="text" placeholder="Buscar...">
    </div>

    <ul class="nav1">
        <li>
            <a href="Principal.html">
                <i class='bx bx-store-alt'></i>
                 <span class="link_name1">Principal</span>
            </a>
            <span class="tooltip1">Principal</span>
        </li> 
        <li>
            <a href="InicioSs.html">
                <i class='bx bxs-user-circle'></i>
                 <span class="link_name1">Inicia sesión</span>
            </a>
            <span class="tooltip1">Inicia sesión</span>
        </li> 
        <li>
            <a href="ProductosCigarreria.html">
                <i class='bx bxs-drink'></i>
                 <span class="link_name1">Productos Beer</span>
            </a>
            <span class="tooltip1">Productos Beer</span>
        </li> 
        <li>
            <a href="#">
                <i class='bx bx-package'></i>
                 <span class="link_name1">Pedidos</span>
            </a>
            <span class="tooltip1">Pedidos</span>
        </li> 
        <li>
            <a href="Nosotros.html">
                <i class='bx bx-conversation'></i>
                 <span class="link_name1">Nosotros</span>
            </a>
            <span class="tooltip1">Nosotros</span>
        </li> 
        <li>
            <a href="Horarios.html">
                <i class='bx bxs-calendar' ></i>
                 <span class="link_name1">Horarios</span>
            </a>
            <span class="tooltip1">Horarios</span>
        </li> 
    </ul>
</div>
    
<!-- Ícono flotante de WhatsApp con texto "Contáctanos" -->
<div class="whatsapp-icon">
    <a href="https://wa.me/573105813873?text=¡Hola!%20Me%20gustaría%20saber%20más%20sobre%20sus%20productos." target="_blank">
        <i class='bx bxl-whatsapp'></i> Realiza tu pedido.
    </a>
</div>

<script>
    let btn1 = document.querySelector('#btn1');
    let sidebar1 = document.querySelector('.sidebar1');
    let srcBtn1 = document.querySelector('.bx-search');

    btn1.onclick = function(){
        sidebar1.classList.toggle('active1');
    }
    srcBtn1.onclick = function(){
        sidebar1.classList.toggle('active1');
    }
</script>
<header class="nav-bar">
    <div class="cart-icon" onclick="toggleCart()">
        <img src="Imagenes/Food/CarritoDeCompras.png" alt="Carrito" width="35">
        <span id="cart-count">0</span>
    </div>
    <h1>Productos JJJ´s Food</h1>
</header>

<main>
    <div class="product-list">
        <!-- Ejemplo de productos -->
        <div class="product">
            <img src="Comida/Mexico.webp" alt="Producto 1">
            <h2>Mexicano</h2>
            <p class="price">$20.000</p>
            <button onclick="addToCart('Mexicano',20)">Agregar al Carrito</button>
        </div>
                    
        <div class="product">
            <img src="Comida/Burger Ranch.webp" alt="Producto 2">
            <h2>Burger Ranch</h2>
            <p class="price">$28.000</p>
            <button onclick="addToCart('Burger Ranch', 28)">Agregar al Carrito</button>
        </div>
        <div class="product">
            <img src="Imagenes/Amburgesa.png" alt="Producto 3">
            <h2>Producto 3</h2>
            <p class="price">$30.000</p>
            <button onclick="addToCart('Producto 3', 30)">Agregar al Carrito</button>
        </div>
        <div class="product">
            <img src="Imagenes/Hamburgesa 2.png" alt="Producto 5">
            <h2>Producto 5</h2>
            <p class="price">$40.000</p>
            <button onclick="addToCart('Producto 5', 40)">Agregar al Carrito</button>
        </div>
    </div>
</main>


<div class="cart-details" id="cart-details">
    <h2>Tu Carrito</h2>
    <ul id="cart-items"></ul>
    <p class="total">
        Total: <span id="cart-total">0</span>
        <span id="cart-warning" class="cart-warning"></span>
    </p>
    <button onclick="sendWhatsAppOrder()" class="buy-button">Comprar</button>
</div>
    
    

<script src="Producto.js"></script>


<button class="carta-btn" onclick="toggleCarta()">Carta</button>
    

<div class="carta-container" id="carta" onclick="toggleZoom(event)">
    <button class="toggle-img-btn btn-up" id="btnUp" onclick="toggleImagen(event)">⬆</button>
    <img src="Imagenes/carta.jpg" alt="Carta del Restaurante" id="cartaImg">
    <button class="toggle-img-btn btn-down" id="btnDown" onclick="toggleImagen(event)">⬇</button>
    <button id="volverBtn" onclick="toggleCarta()">Volver</button>
</div>

<script>
let zoomActivo = false;

function toggleCarta() {
    let carta = document.getElementById("carta");
    let cartaImg = document.getElementById("cartaImg");
    let btnUp = document.getElementById("btnUp");
    let btnDown = document.getElementById("btnDown");

    if (carta.style.display === "flex") {
        // Cerrar carta
        carta.style.display = "none";
        document.body.style.overflow = "auto"; // Habilitar desplazamiento nuevamente
    } else {
        // Abrir carta y bloquear el resto de la página
        carta.style.display = "flex";
        document.body.style.overflow = "hidden"; // Bloquear desplazamiento

        // Reiniciar todo al abrir la carta (como si fuera la primera vez)
        cartaImg.src = "Imagenes/carta.jpg"; // Siempre inicia con la primera imagen
        cartaImg.style.transform = "scale(1)"; // Resetear zoom
        cartaImg.style.transformOrigin = "center center";
        zoomActivo = false;
        cartaImg.removeEventListener("mousemove", moverZoom);

        // Mostrar el botón correcto
        btnDown.style.display = "block";
        btnUp.style.display = "none";
    }
}

function toggleImagen(event) {
    event.stopPropagation();
    let cartaImg = document.getElementById("cartaImg");
    let btnUp = document.getElementById("btnUp");
    let btnDown = document.getElementById("btnDown");

    if (cartaImg.src.includes("carta.jpg")) {
        cartaImg.src = "Imagenes/carta2.jpg";
        btnDown.style.display = "none";
        btnUp.style.display = "block";
    } else {
        cartaImg.src = "Imagenes/carta.jpg";
        btnDown.style.display = "block";
        btnUp.style.display = "none";
    }
}

function toggleZoom(event) {
    let cartaImg = document.getElementById("cartaImg");
    let rect = cartaImg.getBoundingClientRect();
    let offsetX = (event.clientX - rect.left) / rect.width;
    let offsetY = (event.clientY - rect.top) / rect.height;

    if (!zoomActivo) {
        cartaImg.style.transformOrigin = `${offsetX * 100}% ${offsetY * 100}%`;
        cartaImg.style.transform = "scale(2)";
        zoomActivo = true;
        cartaImg.addEventListener("mousemove", moverZoom);
    } else {
        cartaImg.style.transform = "scale(1)";
        cartaImg.style.transformOrigin = "center center"; // Resetear al centro
        zoomActivo = false;
        cartaImg.removeEventListener("mousemove", moverZoom);
    }
}

function moverZoom(event) {
    let cartaImg = document.getElementById("cartaImg");
    let rect = cartaImg.getBoundingClientRect();
    let offsetX = (event.clientX - rect.left) / rect.width;
    let offsetY = (event.clientY - rect.top) / rect.height;
    cartaImg.style.transformOrigin = `${offsetX * 100}% ${offsetY * 100}%`;
}

</script>
</body>
</html>
